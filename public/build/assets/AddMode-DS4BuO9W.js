import{r as o,u as g,b,j as e}from"./index-Cn-27-TL.js";import{h as y}from"./api-BUyL__Lx.js";import{C as v,a as M}from"./CCardBody-Bfh-O-BQ.js";import{C as S}from"./CCardHeader-DyQDv_BY.js";import{C as u}from"./RawMaterial-O4w4bCVl.js";import{C as P}from"./CForm-D5S3-WLx.js";import{a as E,b as p,d as w}from"./index.esm-2RRpQEeO.js";import{C as h}from"./CFormLabel-CFBomnnz.js";import{C}from"./CFormInput-CL8d5WGe.js";import"./CFormControlWrapper-CPiMjLs0.js";import"./CFormControlValidation-BvfkKe2L.js";function L(){const[t,d]=o.useState(""),[s,c]=o.useState(""),[i,a]=o.useState(""),[n,m]=o.useState(""),x=g(),{showToast:l}=b(),j=async r=>{if(r.preventDefault(),a(""),m(""),!t.trim())return a("Mode is required");if(!s||s<=0)return a("Price must be greater than zero");try{await y("/api/machine-price",{mode:t,price:s}),l("success","Mode added successfully!"),m("Mode added successfully!"),d(""),c(""),x("/modes")}catch(f){console.error("Error adding mode:",f),l("danger","Failed to add mode")}};return e.jsxs(v,{className:"mb-4",children:[e.jsx(S,{children:e.jsx("strong",{children:"Add New Mode"})}),e.jsxs(M,{children:[i&&e.jsx(u,{color:"danger",children:i}),n&&e.jsx(u,{color:"success",children:n}),e.jsxs(P,{onSubmit:j,children:[e.jsxs(E,{className:"mb-3",children:[e.jsxs(p,{md:6,children:[e.jsx(h,{children:"Mode"}),e.jsx(C,{type:"text",placeholder:"Enter mode",value:t,onChange:r=>d(r.target.value),required:!0})]}),e.jsxs(p,{md:6,children:[e.jsx(h,{children:"Price Per Hour"}),e.jsx(C,{type:"number",placeholder:"Enter Price Per Hour",value:s,onChange:r=>c(r.target.value),min:0,step:"0.01",required:!0})]})]}),e.jsx(w,{type:"submit",color:"primary",children:"Save Mode"})]})]})]})}export{L as default};
