import{r as o,u as g,b,j as e}from"./index-WEbTLRLZ.js";import{f as y}from"./api-Ba1wfMeh.js";import{C as v,a as M}from"./CCardBody-CtNgr8m7.js";import{C as S}from"./CCardHeader-LFhc_ZAM.js";import{C as u}from"./RawMaterial-Cd7YjP3x.js";import{C as P}from"./CForm-J01-VhG4.js";import{a as E,b as p,d as w}from"./index.esm-CZeMoYDH.js";import{C}from"./CFormLabel-D964ZFYD.js";import{C as h}from"./CFormInput-D3dwui72.js";import"./CFormControlWrapper-DljGJ9Vz.js";function D(){const[t,d]=o.useState(""),[s,c]=o.useState(""),[i,a]=o.useState(""),[n,m]=o.useState(""),x=g(),{showToast:l}=b(),f=async r=>{if(r.preventDefault(),a(""),m(""),!t.trim())return a("Mode is required");if(!s||s<=0)return a("Price must be greater than zero");try{await y("/api/machine-price",{mode:t,price:s}),l("success","Mode added successfully!"),m("Mode added successfully!"),d(""),c(""),x("/modes")}catch(j){console.error("Error adding mode:",j),l("danger","Failed to add mode")}};return e.jsxs(v,{className:"mb-4",children:[e.jsx(S,{children:e.jsx("strong",{children:"Add New Mode"})}),e.jsxs(M,{children:[i&&e.jsx(u,{color:"danger",children:i}),n&&e.jsx(u,{color:"success",children:n}),e.jsxs(P,{onSubmit:f,children:[e.jsxs(E,{className:"mb-3",children:[e.jsxs(p,{md:6,children:[e.jsx(C,{children:"Mode"}),e.jsx(h,{type:"text",placeholder:"Enter mode",value:t,onChange:r=>d(r.target.value),required:!0})]}),e.jsxs(p,{md:6,children:[e.jsx(C,{children:"Price Per Hour"}),e.jsx(h,{type:"number",placeholder:"Enter Price Per Hour",value:s,onChange:r=>c(r.target.value),min:0,step:"0.01",required:!0})]})]}),e.jsx(w,{type:"submit",color:"primary",children:"Save Mode"})]})]})]})}export{D as default};
