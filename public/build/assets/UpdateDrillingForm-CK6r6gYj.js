import{c as ve,u as fe,b as be,e as Ne,r as u,j as r}from"./index-DD5PpQvG.js";import{C as Ce,c as _,a as f,b as i,d as x}from"./index.esm-Cf16sf0V.js";import{a as $,b as we}from"./api-BUyL__Lx.js";import{S as b}from"./react-select.esm-DPb-pMEi.js";import{w as ke,S as Re}from"./Feilds-DKJTpBq7.js";import{C as Se}from"./RawMaterial-BpBLObvv.js";import{C as N,a as C}from"./CCardBody-DIaUAcaG.js";import{C as De}from"./CCardHeader-xDb1sBm5.js";import{g as U}from"./DefaultLayout-CqqVRJ58.js";import{C as Me}from"./CForm-DHMglVb5.js";import{c as Y}from"./cil-file-CeQgYs_D.js";import{C as c}from"./CFormLabel-nywbXjJ8.js";import{C as v}from"./CInputGroup-CSjvk1Va.js";import{C as h}from"./CFormInput-Cn6Oxe7f.js";import{C as w}from"./CInputGroupText-3BZXwTrk.js";import{c as W}from"./cil-x-0440B5Ce.js";import{C as q}from"./CFormSelect-BN9mb7wv.js";import{c as Te}from"./cil-location-pin-CQr6GRP7.js";import"./defineProperty-DJACW-dl.js";import"./typeof-QjJsDpFa.js";import"./emotion-react.browser.esm-DDzA6fO6.js";import"./floating-ui.dom-ByRZgDQ1.js";import"./cil-user-Dlmw-Gem.js";import"./CNavItem-BzisaWd0.js";import"./CFormControlWrapper-BZBLkUPy.js";import"./CFormControlValidation-CeKcElbP.js";var Pe=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M472,40H40A24.028,24.028,0,0,0,16,64V448a24.028,24.028,0,0,0,24,24H472a24.028,24.028,0,0,0,24-24V64A24.028,24.028,0,0,0,472,40Zm-8,400H48V72H464Z' class='ci-primary'/><polygon fill='var(--ci-primary-color, currentColor)' points='152 240 184 240 184 200 224 200 224 168 184 168 184 128 152 128 152 168 112 168 112 200 152 200 152 240' class='ci-primary'/><polygon fill='var(--ci-primary-color, currentColor)' points='196.284 285.089 168 313.373 139.716 285.089 117.089 307.716 145.373 336 117.089 364.284 139.716 386.911 168 358.627 196.284 386.911 218.911 364.284 190.627 336 218.911 307.716 196.284 285.089' class='ci-primary'/><rect width='112' height='32' x='288' y='168' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='112' height='32' x='288' y='288' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='112' height='32' x='288' y='352' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/>"];const nr=()=>{var Z;const{id:J}=ve(),K=fe(),{showToast:d}=be(),B=((Z=Ne().state)==null?void 0:Z.drillingRecordId)||J,[n,m]=u.useState({project_id:"",project_name:"",date:"",machineReading:[{oprator_id:"",machine_id:"",machine_start:"",machine_end:"",actual_machine_hr:0}],compressorReading:[{oprator_id:"",machine_id:"",comp_rpm_start:"",comp_rpm_end:"",com_actul_hr:0}],workDetails:[{operator_id:"",work_type:"",work_point:0,rate:0,total:0}],surveys:[{operator_id:"",survey_type:"",survey_point:0,rate:0,total:0}],isGST:!1,totalBill:0}),[ee,I]=u.useState(!1),[L,R]=u.useState([]),[S,D]=u.useState(""),[j,re]=u.useState([]),[M,ae]=u.useState([]),[te,G]=u.useState(!1),T=a=>{var e;return a==null?a:(a==null?void 0:a.data)!==void 0?((e=a.data)==null?void 0:e.data)!==void 0?a.data.data:a.data:(a==null?void 0:a.data)!==void 0?a.data:a};u.useEffect(()=>{(async()=>{var e;try{const t=await $(`/api/drilling/${B}`);let s=T(t);if(!s){d("danger","No data returned from server");return}s!=null&&s.data&&(s=s.data);const l=(s.machine_reading||s.machine_readings||[]).map(o=>({oprator_id:o.oprator_id!=null?Number(o.oprator_id):"",machine_id:o.machine_id!=null?Number(o.machine_id):"",machine_start:o.machine_start??"",machine_end:o.machine_end??"",actual_machine_hr:o.actual_machine_hr!=null?Number(o.actual_machine_hr):0})),p=(s.compressor_rpm||[]).map(o=>({oprator_id:o.oprator_id!=null?Number(o.oprator_id):"",machine_id:o.machine_id!=null?Number(o.machine_id):"",comp_rpm_start:o.comp_rpm_start??"",comp_rpm_end:o.comp_rpm_end??"",com_actul_hr:o.com_actul_hr!=null?Number(o.com_actul_hr):0})),g=(s.work_points||s.work_point_detail||[]).map(o=>{const y=Number(o.work_point||0),k=Number(o.rate||0),z=o.total!=null?Number(o.total):y*k;return{operator_id:o.operator_id!=null?Number(o.operator_id):"",work_type:o.work_type||"",work_point:y,rate:k,total:z}}),X=(s.surveys||s.survey_detail||[]).map(o=>{const y=Number(o.survey_point||0),k=Number(o.rate||0),z=o.total!=null?Number(o.total):y*k;return{operator_id:o.operator_id!=null?Number(o.operator_id):"",survey_type:o.survey_type||"",survey_point:y,rate:k,total:z}});m(o=>{var y;return{...o,project_id:s.project_id!=null?Number(s.project_id):"",project_name:((y=s.project)==null?void 0:y.project_name)||"",date:s.date||"",machineReading:l.length?l:o.machineReading,compressorReading:p.length?p:o.compressorReading,workDetails:g.length?g:o.workDetails,surveys:X.length?X:o.surveys,isGST:s.isGST??!1,totalBill:s.totalBill!=null?Number(s.totalBill):o.totalBill}}),D(((e=s.project)==null?void 0:e.project_name)||"")}catch(t){console.error("Error fetching drilling data:",t),d("danger","Failed to fetch existing data!")}})()},[B]),u.useEffect(()=>{$("/api/operatorsByType").then(a=>{const e=T(a)||[];re((Array.isArray(e)?e:[]).map(t=>({value:t.id,label:t.name||t.label||t.value})))}).catch(a=>console.error("Error fetching operators:",a))},[]),u.useEffect(()=>{$("/api/machineries").then(a=>{const e=T(a),t=Array.isArray(e)?e:(e==null?void 0:e.data)||e||[];ae((Array.isArray(t)?t:[]).map(s=>({value:s.id,label:s.machine_name||s.name})))}).catch(a=>console.error("Error fetching machineries:",a))},[]);const Q=u.useCallback(async a=>{try{const e=await $(`/api/projects?searchQuery=${encodeURIComponent(a)}`),t=T(e)||[];R(Array.isArray(t)?t:(t==null?void 0:t.data)||[])}catch(e){console.error("Error fetching projects:",e),R([])}},[]);u.useEffect(()=>{const a=setTimeout(()=>{S?Q(S):R([])},300);return()=>clearTimeout(a)},[S,Q]);const P=a=>Number(a.work_point||0)*Number(a.rate||0),A=a=>Number(a.survey_point||0)*Number(a.rate||0),se=n.workDetails.reduce((a,e)=>a+P(e),0),oe=n.surveys.reduce((a,e)=>a+A(e),0),V=se+oe,ne=n.isGST?V*1.18:V,le=(a,e)=>{if(a===""||e==="")return 0;const t=parseFloat(e||0)-parseFloat(a||0);return t>=0?Number(t.toFixed(2)):0},ie=(a,e)=>{if(a===""||e==="")return 0;const t=parseFloat(e||0)-parseFloat(a||0);return t>=0?Number(t.toFixed(2)):0},ce=(a,e)=>{m(t=>({...t,[a]:e}))},me=a=>{m(e=>({...e,project_id:Number(a.id),project_name:a.project_name||a.name||""})),D(a.project_name||a.name||""),R([]),G(!1)},F=(a,e,t)=>{m(s=>{const l=s.machineReading.map((p,g)=>g===a?{...p}:p);return l[a][e]=e==="oprator_id"||e==="machine_id"?t===""?"":Number(t):t,(e==="machine_start"||e==="machine_end")&&(l[a].actual_machine_hr=le(l[a].machine_start,l[a].machine_end)),{...s,machineReading:l}})},O=(a,e,t)=>{m(s=>{const l=s.compressorReading.map((p,g)=>g===a?{...p}:p);return l[a][e]=e==="oprator_id"||e==="machine_id"?t===""?"":Number(t):t,(e==="comp_rpm_start"||e==="comp_rpm_end")&&(l[a].com_actul_hr=ie(l[a].comp_rpm_start,l[a].comp_rpm_end)),{...s,compressorReading:l}})},de=()=>{m(a=>({...a,machineReading:[...a.machineReading,{oprator_id:"",machine_id:"",machine_start:"",machine_end:"",actual_machine_hr:0}]}))},pe=a=>{m(e=>({...e,machineReading:e.machineReading.filter((t,s)=>s!==a)}))},he=()=>{m(a=>({...a,compressorReading:[...a.compressorReading,{oprator_id:"",machine_id:"",comp_rpm_start:"",comp_rpm_end:"",com_actul_hr:0}]}))},ue=a=>{m(e=>({...e,compressorReading:e.compressorReading.filter((t,s)=>s!==a)}))},E=(a,e,t)=>{m(s=>{const l=s.workDetails.map((p,g)=>g===a?{...p}:p);return e==="work_point"||e==="rate"||e==="operator_id"?l[a][e]=t===""?0:Number(t):l[a][e]=t,l[a].total=P(l[a]),{...s,workDetails:l}})},_e=()=>{m(a=>({...a,workDetails:[...a.workDetails,{operator_id:"",work_type:"",work_point:0,rate:0,total:0}]}))},ge=a=>{m(e=>({...e,workDetails:e.workDetails.filter((t,s)=>s!==a)}))},H=(a,e,t)=>{m(s=>{const l=s.surveys.map((p,g)=>g===a?{...p}:p);return e==="survey_point"||e==="rate"||e==="operator_id"?l[a][e]=t===""?0:Number(t):l[a][e]=t,l[a].total=A(l[a]),{...s,surveys:l}})},xe=()=>{m(a=>({...a,surveys:[...a.surveys,{operator_id:"",survey_type:"",survey_point:0,rate:0,total:0}]}))},je=a=>{m(e=>({...e,surveys:e.surveys.filter((t,s)=>s!==a)}))},ye=async()=>{if(!n.project_id){d("danger","Please select a Project.");return}if(!n.date){d("danger","Please select a Date.");return}for(let e=0;e<n.machineReading.length;e++){const t=n.machineReading[e];if(t.machine_start&&t.machine_end){if(!t.oprator_id){d("danger",`Machine Reading Row ${e+1}: Please select an Operator.`);return}if(!t.machine_id){d("danger",`Machine Reading Row ${e+1}: Please select a Machinery.`);return}}}for(let e=0;e<n.compressorReading.length;e++){const t=n.compressorReading[e];if(t.comp_rpm_start&&t.comp_rpm_end){if(!t.oprator_id){d("danger",`Compressor Reading Row ${e+1}: Please select an Operator.`);return}if(!t.machine_id){d("danger",`Compressor Reading Row ${e+1}: Please select a Machinery.`);return}}}for(let e=0;e<n.workDetails.length;e++){const t=n.workDetails[e];if(t.work_point&&t.rate){if(!t.operator_id){d("danger",`Row ${e+1} (Work Details): Please select an Operator.`);return}if(!t.work_type){d("danger",`Row ${e+1} (Work Details): Please select a Work Type.`);return}}}for(let e=0;e<n.surveys.length;e++){const t=n.surveys[e];if(t.survey_point&&t.rate){if(!t.operator_id){d("danger",`Row ${e+1} (Survey Details): Please select an Operator.`);return}if(!t.survey_type){d("danger",`Row ${e+1} (Survey Details): Please select a Survey Type.`);return}}}const a={project_id:n.project_id,date:n.date,oprator_helper:n.oprator_helper??null,machineReading:n.machineReading.map(e=>({oprator_id:e.oprator_id||null,machine_id:e.machine_id||null,machine_start:e.machine_start||null,machine_end:e.machine_end||null,actual_machine_hr:e.actual_machine_hr||0})),compressor_rpm:n.compressorReading.map(e=>({oprator_id:e.oprator_id||null,machine_id:e.machine_id||null,comp_rpm_start:e.comp_rpm_start||null,comp_rpm_end:e.comp_rpm_end||null,com_actul_hr:e.com_actul_hr||0})),work_points:n.workDetails.map(e=>({operator_id:e.operator_id||null,work_type:e.work_type||"",work_point:e.work_point||0,rate:e.rate||0,total:P(e)})),surveys:n.surveys.map(e=>({operator_id:e.operator_id||null,survey_type:e.survey_type||"",survey_point:e.survey_point||0,rate:e.rate||0,total:A(e)})),isGST:n.isGST,totalBill:ne};try{await we(`/api/drilling/${B}`,a),I(!0),setTimeout(()=>I(!1),3e3),d("success","Record updated successfully!"),K("/infraDetailsShowTable")}catch(e){console.error("Error updating data",e),d("danger","Error updating data")}};return r.jsxs(Ce,{fluid:!0,children:[ee&&r.jsx(Se,{color:"success",dismissible:!0,onClose:()=>I(!1),children:"Form updated successfully!"}),r.jsxs(N,{children:[r.jsx(De,{className:"bg-primary text-white",children:r.jsxs("h1",{className:"h4 mb-0 d-flex align-items-center",children:[r.jsx(_,{icon:U,className:"me-2"})," Update Drilling Record"]})}),r.jsx(C,{className:"p-4",children:r.jsxs(Me,{children:[r.jsx(N,{className:"mb-4 border-0",color:"info",textColor:"dark",children:r.jsxs(C,{className:"bg-info-subtle rounded rounded-lg",children:[r.jsxs("h5",{className:"text-info mb-3 d-flex align-items-center",children:[r.jsx(_,{icon:Y,className:"me-2"})," 1. Project Information"]}),r.jsxs(f,{className:"g-3",children:[r.jsxs(i,{md:6,children:[r.jsx(c,{children:"Project Name *"}),r.jsxs(v,{children:[r.jsx(h,{type:"text",value:S,onChange:a=>{D(a.target.value),G(!0)},placeholder:"Search for a project..."}),n.project_name&&r.jsx(x,{type:"button",color:"danger",variant:"outline",onClick:()=>{m(a=>({...a,project_name:""})),D(""),G(!1)},children:"✕"})]}),te&&L.length>0&&r.jsx("div",{className:"border rounded bg-white",style:{maxHeight:"150px",overflowY:"auto"},children:L.map(a=>r.jsx("div",{className:"p-2 hover-bg-light",style:{cursor:"pointer"},onClick:()=>me(a),children:a.project_name||a.name},a.id))})]}),r.jsxs(i,{md:6,children:[r.jsx(c,{children:"Date *"}),r.jsx(h,{type:"date",value:n.date,onChange:a=>ce("date",a.target.value)})]})]})]})}),r.jsx(N,{className:"mb-4 border-0",color:"success",textColor:"dark",children:r.jsxs(C,{className:"bg-success-subtle rounded rounded-lg",children:[r.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[r.jsxs("h5",{className:"text-success mb-3 d-flex align-items-center",children:[r.jsx(_,{icon:U,className:"me-2"})," 2. Machine Usage"]}),r.jsx(x,{color:"success",variant:"outline",type:"button",size:"md",className:"d-flex align-items-center",onClick:de,children:"Add Machine Reading"})]}),r.jsx(f,{className:"g-1",children:n.machineReading.map((a,e)=>r.jsxs(f,{className:"mb-2 gx-1",children:[r.jsxs(i,{xs:12,md:3,className:"p-1",children:[r.jsx(c,{children:"Operator / Helper *"}),r.jsx(b,{options:j,isSearchable:!0,placeholder:"Select Operator...",value:j.find(t=>t.value===a.oprator_id)||null,onChange:t=>F(e,"oprator_id",t?t.value:"")})]}),r.jsxs(i,{xs:12,md:2,className:"p-1",children:[r.jsx(c,{children:"Machinery *"}),r.jsx(b,{options:M,isSearchable:!0,placeholder:"Machinery",value:M.find(t=>t.value===a.machine_id)||null,onChange:t=>F(e,"machine_id",t?t.value:"")})]}),r.jsxs(i,{xs:12,sm:6,md:2,className:"p-1",children:[r.jsx(c,{children:"Machine Start"}),r.jsx(h,{type:"text",inputMode:"numeric",pattern:"[0-9.:]*",value:a.machine_start===0?"":a.machine_start,placeholder:"0",onChange:t=>{let s=t.target.value.replace(/[^0-9.:]/g,"");F(e,"machine_start",s===""?"":s)}})]}),r.jsxs(i,{xs:12,sm:6,md:2,className:"p-1",children:[r.jsx(c,{children:"Machine End"}),r.jsx(h,{type:"text",inputMode:"numeric",pattern:"[0-9.:]*",value:a.machine_end===0?"":a.machine_end,placeholder:"0",onChange:t=>{let s=t.target.value.replace(/[^0-9.:]/g,"");F(e,"machine_end",s===""?"":s)}})]}),r.jsxs(i,{xs:12,sm:6,md:2,className:"p-1",children:[r.jsx(c,{children:"Actual Hours"}),r.jsxs(v,{children:[r.jsx(h,{type:"text",value:String(a.actual_machine_hr??0),readOnly:!0}),r.jsx(w,{children:"hrs"})]})]}),r.jsx(i,{xs:12,sm:6,md:1,className:"d-flex align-items-center mt-4 p-1",children:n.machineReading.length>1&&r.jsx(x,{color:"danger",variant:"ghost",size:"lg",onClick:()=>pe(e),children:r.jsx(_,{icon:W})})})]},e))})]})}),r.jsx(N,{className:"mb-4 border-0",color:"primary",textColor:"dark",children:r.jsxs(C,{className:"bg-primary-subtle rounded rounded-lg",children:[r.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[r.jsxs("h5",{className:"text-primary mb-3 d-flex align-items-center",children:[r.jsx(_,{icon:U,className:"me-2"})," 3. Compressor Usage"]}),r.jsx(x,{color:"primary",variant:"outline",type:"button",size:"md",className:"d-flex align-items-center",onClick:he,children:"Add Compressor Reading"})]}),n.compressorReading.map((a,e)=>r.jsxs(f,{className:"mb-2 gx-1",children:[r.jsxs(i,{xs:12,md:3,className:"p-1",children:[r.jsx(c,{children:"Operator / Helper *"}),r.jsx(b,{options:j,isSearchable:!0,placeholder:"Select Operator...",value:j.find(t=>t.value===a.oprator_id)||null,onChange:t=>O(e,"oprator_id",t?t.value:"")})]}),r.jsxs(i,{xs:12,md:2,className:"p-1",children:[r.jsx(c,{children:"Machinery *"}),r.jsx(b,{options:M,isSearchable:!0,placeholder:"Machinery",value:M.find(t=>t.value===a.machine_id)||null,onChange:t=>O(e,"machine_id",t?t.value:"")})]}),r.jsxs(i,{xs:12,sm:6,md:2,className:"p-1",children:[r.jsx(c,{children:"RPM Start"}),r.jsx(h,{type:"text",inputMode:"numeric",pattern:"[0-9.:]*",value:a.comp_rpm_start===0?"":a.comp_rpm_start,placeholder:"0",onChange:t=>{let s=t.target.value.replace(/[^0-9.:]/g,"");O(e,"comp_rpm_start",s===""?"":s)}})]}),r.jsxs(i,{xs:12,sm:6,md:2,className:"p-1",children:[r.jsx(c,{children:"RPM End"}),r.jsx(h,{type:"text",inputMode:"numeric",pattern:"[0-9.:]*",value:a.comp_rpm_end===0?"":a.comp_rpm_end,placeholder:"0",onChange:t=>{let s=t.target.value.replace(/[^0-9.:]/g,"");O(e,"comp_rpm_end",s===""?"":s)}})]}),r.jsxs(i,{xs:12,sm:6,md:2,className:"p-1",children:[r.jsx(c,{children:"Actual Hours"}),r.jsxs(v,{children:[r.jsx(h,{type:"text",value:String(a.com_actul_hr??0),readOnly:!0}),r.jsx(w,{children:"hrs"})]})]}),r.jsx(i,{xs:12,sm:6,md:1,className:"d-flex align-items-center mt-4 p-1",children:n.compressorReading.length>1&&r.jsx(x,{color:"danger",variant:"ghost",size:"lg",onClick:()=>ue(e),children:r.jsx(_,{icon:W})})})]},e))]})}),r.jsx(N,{className:"mb-4 border-0",color:"warning",textColor:"dark",children:r.jsxs(C,{className:"bg-warning-subtle rounded rounded-lg",children:[r.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[r.jsxs("h5",{className:"text-warning mb-0 d-flex align-items-center",children:[r.jsx(_,{icon:Pe,className:"me-2"})," 4. Work Details"]}),r.jsx(x,{color:"warning",variant:"outline",onClick:_e,children:"Add Work"})]}),n.workDetails.map((a,e)=>r.jsxs(f,{className:"align-items-center mb-2",children:[r.jsxs(i,{md:3,children:[r.jsx(c,{children:"Operator"}),r.jsx(b,{options:j,isSearchable:!0,placeholder:"Select Operator...",value:j.find(t=>t.value===a.operator_id)||null,onChange:t=>E(e,"operator_id",t?t.value:"")})]}),r.jsxs(i,{lg:2,children:[r.jsx(c,{children:"Work Type"}),r.jsxs(q,{value:a.work_type,onChange:t=>E(e,"work_type",t.target.value),children:[r.jsx("option",{value:"",children:"Select Work Type"}),ke.map(t=>r.jsx("option",{value:t.value,children:t.label},t.value))]})]}),r.jsxs(i,{lg:2,children:[r.jsx(c,{children:"Points"}),r.jsx(h,{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:a.work_point===0?"":String(a.work_point),placeholder:"0",onChange:t=>{let s=t.target.value.replace(/\D/g,"");E(e,"work_point",s===""?0:Number(s))}})]}),r.jsxs(i,{lg:2,children:[r.jsx(c,{children:"Rate"}),r.jsxs(v,{children:[r.jsx(w,{children:"₹"}),r.jsx(h,{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:a.rate===0?"":String(a.rate),placeholder:"0",onChange:t=>{let s=t.target.value.replace(/\D/g,"");E(e,"rate",s===""?0:Number(s))}})]})]}),r.jsxs(i,{lg:2,children:[r.jsx(c,{children:"Total"}),r.jsxs(v,{children:[r.jsx(w,{children:"₹"}),r.jsx(h,{value:P(a).toFixed(2),readOnly:!0,className:"bg-light fw-bold"})]})]}),r.jsx(i,{lg:1,children:n.workDetails.length>1&&r.jsx(x,{color:"danger",variant:"ghost",size:"sm",onClick:()=>ge(e),children:r.jsx(_,{icon:W})})})]},e))]})}),r.jsx(N,{className:"mb-4 border-0",color:"info",textColor:"dark",children:r.jsxs(C,{className:"bg-info-subtle rounded rounded-lg",children:[r.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[r.jsxs("h5",{className:"text-info mb-0 d-flex align-items-center",children:[r.jsx(_,{icon:Te,className:"me-2"})," 5. Survey Details"]}),r.jsx(x,{color:"info",variant:"outline",onClick:xe,children:"Add Survey"})]}),n.surveys.map((a,e)=>r.jsxs(f,{className:"align-items-center mb-2",children:[r.jsxs(i,{md:3,children:[r.jsx(c,{children:"Operator"}),r.jsx(b,{options:j,isSearchable:!0,placeholder:"Select Operator...",value:j.find(t=>t.value===a.operator_id)||null,onChange:t=>H(e,"operator_id",t?t.value:"")})]}),r.jsxs(i,{lg:2,children:[r.jsx(c,{children:"Survey Type"}),r.jsxs(q,{value:a.survey_type,onChange:t=>H(e,"survey_type",t.target.value),children:[r.jsx("option",{value:"",children:"Select Survey Type"}),Re.map(t=>r.jsx("option",{value:t.value,children:t.label},t.value))]})]}),r.jsxs(i,{lg:2,children:[r.jsx(c,{children:"Points"}),r.jsx(h,{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:a.survey_point===0?"":String(a.survey_point),placeholder:"0",onChange:t=>{let s=t.target.value.replace(/\D/g,"");H(e,"survey_point",s===""?0:Number(s))}})]}),r.jsxs(i,{lg:2,children:[r.jsx(c,{children:"Rate"}),r.jsxs(v,{children:[r.jsx(w,{children:"₹"}),r.jsx(h,{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:a.rate===0?"":String(a.rate),placeholder:"0",onChange:t=>{let s=t.target.value.replace(/\D/g,"");H(e,"rate",s===""?0:Number(s))}})]})]}),r.jsxs(i,{lg:2,children:[r.jsx(c,{children:"Total"}),r.jsxs(v,{children:[r.jsx(w,{children:"₹"}),r.jsx(h,{value:A(a).toFixed(2),readOnly:!0,className:"bg-light fw-bold"})]})]}),r.jsx(i,{lg:1,children:n.surveys.length>1&&r.jsx(x,{color:"danger",variant:"ghost",size:"sm",onClick:()=>je(e),children:r.jsx(_,{icon:W})})})]},e))]})}),r.jsx("div",{className:"d-flex justify-content-center",children:r.jsxs(x,{color:"danger",size:"lg",className:"px-5 d-flex align-items-center",onClick:ye,children:[r.jsx(_,{icon:Y,className:"me-2"})," Update"]})})]})})]})]})};export{nr as default};
