import{r as x,b as f,u as y,j as e}from"./index-Cn-F0xzs.js";import{p as v}from"./api-BUyL__Lx.js";import{u as b}from"./DefaultLayout-pwnRm339.js";import{a as E,b as L,d as h}from"./index.esm-7oL-v0Yv.js";import{C as S,a as w}from"./CCardBody-OOd8gb1I.js";import{C as N}from"./CCardHeader-NWf5yg3Z.js";import{C as B}from"./CForm-CfRPYM1l.js";import{C as c}from"./CFormLabel-Dk6nlh4k.js";import{C as u}from"./CFormInput-CwIxlT0b.js";import{C as k}from"./CFormSelect-DE6tnved.js";import{C as F}from"./CFormTextarea-CRfIY8Y-.js";import{C as A}from"./CFormCheck-Lgcs-Bs4.js";import"./cil-user-Dlmw-Gem.js";import"./RawMaterial-BsLkniud.js";import"./CNavItem-8JWznpb2.js";import"./CFormControlWrapper-CeeeRFXe.js";import"./CFormControlValidation-P5rV7dKb.js";const X=()=>{const[C,m]=x.useState(!1),{showToast:i}=f(),{t:a}=b("global"),j=y(),[s,d]=x.useState({name:"",slug:"",localName:"",expense_category:"",desc:"",show:!0}),l=r=>{const{name:t,value:n}=r.target;d({...s,[t]:n})},g=r=>{const{name:t,checked:n}=r.target;d({...s,[t]:n})},_=async r=>{const t=r.currentTarget;if(r.preventDefault(),r.stopPropagation(),m(!0),t.checkValidity()!==!0)return;let n={...s};n.slug=n.name.replace(/[^\w]/g,"_");try{const o=await v("/api/expenseType",n);o!=null&&o.id?(i("success",a("MSG.expense_type_added_successfully_msg")),j("/expense/new")):i("danger",a("MSG.failed_to_add_expense_type_msg")),p()}catch(o){i("danger","Error occured "+o)}},p=async()=>{d({name:"",slug:"",expense_category:"",localName:"",desc:"",show:!0}),m(!1)};return e.jsx(E,{children:e.jsx(L,{xs:12,children:e.jsxs(S,{className:"mb-4",children:[e.jsx(N,{children:e.jsx("strong",{children:a("LABELS.create_new_expense_type")})}),e.jsx(w,{children:e.jsxs(B,{noValidate:!0,validated:C,onSubmit:_,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(c,{htmlFor:"pname",children:e.jsx("b",{children:a("LABELS.expense_type_name")})}),e.jsx(u,{type:"text",id:"pname",placeholder:"",name:"name",value:s.name,onChange:l,required:!0,feedbackInvalid:"Please provide name."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(c,{htmlFor:"pname",children:e.jsx("b",{children:a("LABELS.expense_type_local_name")})}),e.jsx(u,{type:"text",id:"plname",placeholder:"",name:"localName",value:s.localName,onChange:l,required:!0,feedbackInvalid:"Please provide local name."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(c,{htmlFor:"expense_category",children:e.jsx("b",{children:a("LABELS.expense_category")})}),e.jsxs(k,{id:"expense_category",name:"expense_category",value:s.expense_category,onChange:l,required:!0,feedbackInvalid:"Please select an expense category.",children:[e.jsx("option",{value:"",children:"-- Select Category --"}),e.jsx("option",{value:"Operational Expense",children:"Operational Expense"}),e.jsx("option",{value:"Capital Expense",children:"Capital Expense"}),e.jsx("option",{value:"Machine Expense",children:"Machine Expense"}),e.jsx("option",{value:"Operator Expense",children:"Operator/Helper Expense"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(c,{htmlFor:"desc",children:e.jsx("b",{children:a("LABELS.short_description")})}),e.jsx(F,{id:"desc",rows:3,name:"desc",value:s.desc,onChange:l,required:!0,feedbackInvalid:"Please provide description."})]}),e.jsx("div",{className:"mb-3",children:e.jsx(A,{id:"flexCheckDefault",label:a("LABELS.show_for_expense_records"),name:"show",checked:s.show,onChange:g})}),e.jsxs("div",{className:"mb-3",children:[e.jsx(h,{color:"success",type:"submit",children:a("LABELS.submit")}),"Â ",e.jsx(h,{color:"secondary",onClick:p,children:a("LABELS.clear")})]})]})})]})})})};export{X as default};
