import{r as s,u as L,j as e}from"./index-Cn-F0xzs.js";import{C as U,a as v,b as V,c as t,d as A}from"./index.esm-7oL-v0Yv.js";import{i as B,r as D,s as F}from"./api-BUyL__Lx.js";import{C as G,a as T}from"./CCardBody-OOd8gb1I.js";import{C as _}from"./CForm-CfRPYM1l.js";import{C as r}from"./CInputGroup-DPH3SzoJ.js";import{C as a}from"./CInputGroupText-BvWBaOqj.js";import{c as z,a as w}from"./cil-user-Dlmw-Gem.js";import{C as o}from"./CFormInput-CwIxlT0b.js";import{c as H,C as J}from"./RawMaterial-BsLkniud.js";import"./CFormControlWrapper-CeeeRFXe.js";import"./CFormControlValidation-P5rV7dKb.js";import"./CFormLabel-Dk6nlh4k.js";const te=()=>{const[l,g]=s.useState(),[R,y]=s.useState(!1),n=L(),d=s.useRef(),m=s.useRef(),p=s.useRef(),u=s.useRef(),f=s.useRef();s.useEffect(()=>{B()&&n("/")},[]);const N=async c=>{var x,j,h,C,b;const I=c.currentTarget;if(c.preventDefault(),c.stopPropagation(),y(!0),I.checkValidity()!==!0)return;const P=(x=d.current)==null?void 0:x.value,k=(j=m.current)==null?void 0:j.value,q=(h=p.current)==null?void 0:h.value,E=0,M=(C=u.current)==null?void 0:C.value,S=(b=f.current)==null?void 0:b.value;try{const i=await D({name:P,email:k,mobile:q,type:E,password:M,password_confirmation:S});F(i),n("/")}catch(i){g(i.message??"Please provide valid data")}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(U,{children:e.jsx(v,{className:"justify-content-center",children:e.jsx(V,{md:9,lg:7,xl:6,children:e.jsx(G,{className:"mx-4",children:e.jsx(T,{className:"p-4",children:e.jsxs(_,{noValidate:!0,validated:R,onSubmit:N,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),e.jsxs(r,{className:"mb-3",children:[e.jsx(a,{children:e.jsx(t,{icon:z})}),e.jsx(o,{ref:d,placeholder:"Username",autoComplete:"name",required:!0,feedbackInvalid:"Please provide name."})]}),e.jsxs(r,{className:"mb-3",children:[e.jsx(a,{children:"@"}),e.jsx(o,{ref:m,placeholder:"Email",autoComplete:"email",required:!0,feedbackInvalid:"Please provide email."})]}),e.jsxs(r,{className:"mb-3",children:[e.jsx(a,{children:e.jsx(t,{icon:H})}),e.jsx(o,{ref:p,placeholder:"Mobile",autoComplete:"phone",required:!0,feedbackInvalid:"Please provide mobile number."})]}),e.jsxs(r,{className:"mb-3",children:[e.jsx(a,{children:e.jsx(t,{icon:w})}),e.jsx(o,{type:"password",ref:u,placeholder:"Password",autoComplete:"new-password",required:!0,feedbackInvalid:"Please provide password."})]}),e.jsxs(r,{className:"mb-4",children:[e.jsx(a,{children:e.jsx(t,{icon:w})}),e.jsx(o,{ref:f,type:"password",placeholder:"Repeat password",autoComplete:"new-password",required:!0,feedbackInvalid:"Please provide confirm password."})]}),l&&e.jsx(v,{children:e.jsx(J,{color:"danger",children:l})}),e.jsx("div",{className:"d-grid",children:e.jsx(A,{color:"success",type:"submit",children:"Create Account"})})]})})})})})})})};export{te as default};
